var F=Object.defineProperty;var j=(e,o,n)=>o in e?F(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var f=(e,o,n)=>j(e,typeof o!="symbol"?o+"":o,n);import{J as I,K as z,S as E,a as v,l as V,r as G,m as R,Q as X,n as O,o as H,d as D,e as Y,M as L,c as _,b as T,T as Z,p as q,q as J,G as K,f as k,i as N}from"./GLTFLoader-wlXMjBjz.js";import{P as Q}from"./tiles-DzyDbYKX.js";class U extends Q{constructor(n,t=!0){super();f(this,"isCarMode",!0);f(this,"isBaseModel",!0);f(this,"bounds",null);f(this,"box3",new I);const a=new z(12);if(this.add(a),n)for(var s=0;s<n.children.length;s++)t&&n.children[s].position.setScalar(0,0,0),this.add(n.children[s])}}function ao(e,{color:o=6076159}={}){e.scene=new E,e.scene.background=new v().setHex(o)}function so(e,{position:o=[0,21.2,40.4]}={}){const t=document.getElementById("threedee1").getBoundingClientRect().height,a=new V(75,window.innerWidth/t,.1,2e3);a.position.fromArray(o),e.camera=a}function io(e,{rect:o,near:n=1,far:t=1e3}){const a=new G(o.width/-2,o.width/2,o.height/2,o.height/-2,n,t);return e.orthographicCamera=a,a}function ro(e,{antialias:o=!1}={}){const n=document.getElementById("threedee1"),t=new R({antialias:o});t.setSize(window.innerWidth,n.getBoundingClientRect().height),n.appendChild(t.domElement),t.shadowMap.enabled=!0,t.shadowMap.type=X,e.renderer=t}function co(e,o,n){e.orbitControl=new O(o,n.domElement)}function $(e){e.box3=new I,e.updateMatrix(!0),e.box3.setFromObject(e),e.updateBox3=function(){this.box3.setFromObject(this)}}function lo(e,{color:o=65280,materialShader:n="standard",addToScene:t=!0}={}){const a=new H(1,1,1);let s;n==="basic"?s=new D({color:o}):n==="standard"&&(s=new Y({color:o}));const r=new L(a,s);return $(r),t&&e.add(r),r}function uo(e,o){const n=`varying vec3 vWorldPosition;
    void main() {
      vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
      vWorldPosition = worldPosition.xyz;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
    }
  `,t=`uniform vec3 topColor;
    uniform vec3 bottomColor;
    uniform float offset;
    uniform float exponent;
    varying vec3 vWorldPosition;
    void main() {
      float h = normalize( vWorldPosition + offset ).y;
      gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 );
    }
  `,a={topColor:{value:new v(11392511)},bottomColor:{value:new v(15465727)},offset:{value:-1.1},exponent:{value:.4}},s=new _(1e3,32,15),r=new T({uniforms:a,vertexShader:n,fragmentShader:t,side:Z}),c=new L(s,r);o.add(c),e.skydome=c}function fo(e){const o=new q;return o.intensity=1.81,e.add(o),o}function ho(e){const o=new J;o.castShadow=!0,o.position.copy({x:-4.2,y:6,z:12.2}),o.intensity=2.7,o.color.setHex(16777215),o.shadow.mapSize.width=512*1,o.shadow.mapSize.height=512*1,o.shadow.camera.near=.5,o.shadow.camera.far=200,o.shadow.bias=1e-5,o.shadow.bias=1e-6,o.shadow.radius=.001,o.position.multiplyScalar(5);var n=48;return o.shadow.camera.top=n,o.shadow.camera.bottom=-n,o.shadow.camera.left=n,o.shadow.camera.right=-n,e.add(o),o}function wo(e,o,n){window.addEventListener("resize",t);function t(){const a=n.domElement.getBoundingClientRect().height;o.aspect=window.innerWidth/a,o.updateProjectionMatrix(),n.setSize(window.innerWidth,a),e.composer.setSize(window.innerWidth,a)}}async function mo(e,o,{cache:n,name:t="",url:a="",resetPositions:s=!0}={}){var r=await new K().loadAsync(a);let c=r.scene;debugger;let l=new U(c,s);return n.add(l),l.position.set(0,0,0),o.add(l),l}function po(e,o){new k(0,0,-1),document.addEventListener("keydown",n=>{n.key==="1"&&console.log("front camera")})}const b=new k;function oo(e,o,n,t){e.viewFrustum.setFromProjectionMatrix(new N().multiplyMatrices(e.camera.projectionMatrix,e.camera.matrixWorldInverse));let a=0;return b.set(o.box3.min.x,o.position.y,o.position.z),e.viewFrustum.containsPoint(b)&&a++,b.set(o.box3.max.x,o.position.y,o.position.z),e.viewFrustum.containsPoint(b)&&a++,a>0}function xo(e,o){if(o.wasInView&&!oo(e,o))if(o.wasInView=!1,o.position.x-o.mPositionX>0){(o.box3.min.x+o.box3.max.x)*.5;let t=o.box3.max.x-o.box3.min.x;o.position.x=0-t*2+20,o.mPositionX=o.position.x}else(o.box3.min.x+o.box3.max.x)*.5,o.box3.max.x-o.box3.min.x,o.position.x=80,o.mPositionX=o.position.x;else o.wasInView=!0}const i=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];for(let e=0;e<256;e++)i[256+e]=i[e];function g(e){return e*e*e*(e*(e*6-15)+10)}function u(e,o,n){return o+e*(n-o)}function d(e,o,n,t){const a=e&15,s=a<8?o:n,r=a<4?n:a==12||a==14?o:t;return(a&1?-s:s)+(a&2?-r:r)}class bo{noise(o,n,t){const a=Math.floor(o),s=Math.floor(n),r=Math.floor(t),c=a&255,l=s&255,h=r&255;o-=a,n-=s,t-=r;const w=o-1,m=n-1,p=t-1,x=g(o),M=g(n),A=g(t),y=i[c]+l,C=i[y]+h,S=i[y+1]+h,B=i[c+1]+l,P=i[B]+h,W=i[B+1]+h;return u(A,u(M,u(x,d(i[C],o,n,t),d(i[P],w,n,t)),u(x,d(i[S],o,m,t),d(i[W],w,m,t))),u(M,u(x,d(i[C+1],o,n,p),d(i[P+1],w,n,p)),u(x,d(i[S+1],o,m,p),d(i[W+1],w,m,p))))}}export{bo as I,uo as a,io as b,so as c,fo as d,ho as e,wo as f,lo as g,po as h,xo as i,mo as l,co as o,ro as r,ao as s};
